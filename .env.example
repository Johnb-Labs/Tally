# Tally Contact Management System - Environment Configuration
# Copy this file to .env and update values for your deployment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection string (update with your credentials)
DATABASE_URL=postgresql://tally:your_password_here@localhost:5432/tally

# Individual PostgreSQL connection parameters
PGHOST=localhost
PGPORT=5432
PGDATABASE=tally
PGUSER=tally
PGPASSWORD=your_password_here

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Application environment (development, production)
NODE_ENV=production

# Port for the application to run on (internal, nginx proxies to this)
PORT=5000

# =============================================================================
# SESSION AND SECURITY
# =============================================================================

# Session secret key (generate a strong random string)
# You can generate one using: openssl rand -base64 64
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# =============================================================================
# REPLIT AUTHENTICATION (OAuth)
# =============================================================================

# Your Replit application ID
REPL_ID=your-repl-id-here

# Domains that can use Replit OAuth (comma-separated)
REPLIT_DOMAINS=your-domain.com,www.your-domain.com

# OpenID Connect issuer URL (usually don't change this)
ISSUER_URL=https://replit.com/oidc

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# Maximum file size for uploads (in bytes, default 10MB)
MAX_FILE_SIZE=10485760

# Upload directory path (relative to application root)
UPLOAD_PATH=uploads

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================

# SMTP settings for email notifications (if implemented)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-email-password
# FROM_EMAIL=noreply@your-domain.com

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log directory path
LOG_DIR=logs

# =============================================================================
# REDIS CONFIGURATION (Optional, for session store)
# =============================================================================

# Redis connection URL (if using Redis for sessions instead of PostgreSQL)
# REDIS_URL=redis://localhost:6379

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup directory path
BACKUP_DIR=/var/backups/tally

# Number of days to keep backups
BACKUP_RETENTION_DAYS=7

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Number of worker processes for PM2 (auto = CPU cores)
PM2_INSTANCES=auto

# Memory threshold for automatic restart (1G = 1 gigabyte)
PM2_MAX_MEMORY_RESTART=1G

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Enable debug logging (only for development)
# DEBUG=tally:*

# API base URL (for development with different frontend/backend ports)
# API_BASE_URL=http://localhost:5000

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Analytics service integration
# GOOGLE_ANALYTICS_ID=GA-XXXXXXXX-X

# Error tracking service
# SENTRY_DSN=https://your-sentry-dsn-here

# =============================================================================
# SECURITY HEADERS (Advanced)
# =============================================================================

# Content Security Policy (if you want to customize)
# CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';

# Additional security headers
# X_FRAME_OPTIONS=DENY
# X_CONTENT_TYPE_OPTIONS=nosniff
# X_XSS_PROTECTION=1; mode=block

# =============================================================================
# NOTES
# =============================================================================

# 1. Never commit this file with real credentials to version control
# 2. Use strong, unique passwords for all services
# 3. Generate a secure SESSION_SECRET using: openssl rand -base64 64
# 4. Update REPLIT_DOMAINS with your actual domain(s)
# 5. For production, ensure NODE_ENV=production
# 6. Database user should have minimal required permissions
# 7. Consider using environment-specific files (.env.production, .env.development)
# 8. Regularly rotate secrets and passwords
# 9. Use HTTPS in production environments
# 10. Monitor logs for security issues